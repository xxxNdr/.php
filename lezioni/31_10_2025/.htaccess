RewriteEngine On
Options -MultiViews

RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

RewriteRule ^(.*/)?api/([^/]+)/([^/]+)/?$ $1api/$2.php?id=$3 [QSA,END]
RewriteRule ^(.*/)?api/([^/]+)/?$ $1api/$2.php [QSA,END]